<!DOCTYPE html>
<html lang="en">
{% load static %}
{% load index %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>FOSS@Amrita. Code | Share | Grow</title>

    <!-- Favicons -->
    <link rel="shortcut icon" href="{% static 'home/assets/images/favicon.png' %}">
    <link rel="apple-touch-icon" href="{% static 'home/assets/images/apple-touch-icon.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'home/assets/images/apple-touch-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'home/assets/images/apple-touch-icon-114x114.png' %}">

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300,400italic,700' rel='stylesheet'
          type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Nunito:400,300' rel='stylesheet' type='text/css'>

    <!-- Bootstrap core CSS -->
    <link href="{% static 'home/assets/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Icon Fonts -->
    <link href="{% static 'home/assets/css/font-awesome.min.css' %}" rel="stylesheet">
    <link href="{% static 'home/assets/css/et-line-font.min.css' %}" rel="stylesheet">

    <!-- Plugins -->
    <link href="{% static 'home/assets/css/magnific-popup.css' %}" rel="stylesheet">
    <link href="{% static 'home/assets/css/owl.carousel.css' %}" rel="stylesheet">
    <link href="{% static 'home/assets/css/superslides.css' %}" rel="stylesheet">
    <link href="{% static 'home/assets/css/vertical.min.css' %}" rel="stylesheet">

    <!-- Font awesome CDN -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Template core CSS -->
    <link href="{% static 'home/assets/css/template.css' %}" rel="stylesheet">
    <link href="{% static 'achievements/css/table.css' %}" rel="stylesheet">

</head>
<body>

<!-- PRELOADER -->
<div class="page-loader">
    <div class="loader">Loading...</div>
</div>
<!-- /PRELOADER -->

<!-- Incudes navigation bar.  -->
{% include 'home/side-nav.html' %}

<!-- WRAPPER -->
<div class="wrapper">
    <!-- HERO -->
    <section id="hero" class="module-hero bg-dark-30"
             data-background="{% static 'BlogFeedAggregator/assets/images/mike-giles-wallpape.jpg' %}">

        <!-- HERO TEXT -->
        <div class="hero-caption">
            <div class="hero-text">
                <h1 class="hero-title font-alt">Contributions</h1>
                <p class="hero-subtitle font-serif"></p>
            </div>
        </div>
        <!-- /HERO TEXT -->

    </section>
    <!-- /HERO -->
    <br><br>

    <div class="container-fluid">
        <div class="row">
                    <canvas id="contribution-chart" ></canvas>
                    <br>
                    <div class="col-md-12">
                        <table>
                            <thead>
                            <tr>
                                <th scope="col">Student</th>
                                <th scope="col">Organisation</th>
                                <th scope="col">Title</th>
                                <th scope="col">Bug id</th>
                                <th scope="col">Date</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for object in contribution_list %}
                                <tr class="click"
                                    onclick="window.location='{% url 'contribution_detail' object.id %}';">
                                    <th scope="row">{{ object.user.first_name }} {{ object.user.last_name }}</th>
                                    <td>{{ object.organisation }}</td>
                                    <td>{{ object.title }}</td>
                                    <td><a href="{{ object.url }}">{{ object.contribution_id }}</a></td>
                                    {% for i in range %}
                                                    {% ifequal object.date.month i %}
                                                    <td> {{ month|index:i }}, {{ object.date.year }}</td>
                                                {% endifequal %}
                                                    {% endfor %}
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        <hr class="divider">

        <!-- Footer section -->
        {% include 'home/footer.html' %}

    </div>
    <!-- /WRAPPER -->

    <!-- JAVASCRIPT FILES -->
    <script src="{% static 'home/assets/js/jquery-2.1.4.min.js' %}"></script>
    <script src="{% static 'home/assets/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'home/assets/js/jquery.superslides.min.js' %}"></script>
    <script src="{% static 'home/assets/js/jquery.mb.YTPlayer.min.js' %}"></script>
    <script src="{% static 'home/assets/js/imagesloaded.pkgd.js' %}"></script>
    <script src="{% static 'home/assets/js/isotope.pkgd.min.js' %}"></script>
    <script src="{% static 'home/assets/js/jquery.magnific-popup.min.js' %}"></script>
    <script src="{% static 'home/assets/js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'home/assets/js/jquery.fitvids.js' %}"></script>
    <script src="{% static 'home/assets/js/jqBootstrapValidation.js' %}"></script>
    <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script src="{% static 'home/assets/js/gmap3.min.js' %}"></script>
    <script src="{% static 'home/assets/js/appear.js' %}"></script>
    <script src="{% static 'home/assets/js/smoothscroll.js' %}"></script>
    <script src="{% static 'home/assets/js/submenu-fix.js' %}"></script>
    <script src="{% static 'home/assets/js/contact.js' %}"></script>
    <script src="{% static 'home/assets/js/custom.js' %}"></script>

{% block script %}
<script src="{% static 'base/js/chart-bundle.js'%}"></script>
<script>
    var config = {
        type: 'pie',
        data: {
            datasets: [{
                data: [
                    {% for i in contribution_y %}
                        {{ i }},
                    {% endfor %}
                ],
                backgroundColor: [
                    {% for i in color_list %}
                        '{{ i }}',
                    {% endfor %}
                ],
                label: 'Organisations'
            }],
            labels: [
                {% for i in contribution_x %}
                    '{{ i.0 }}',
                {% endfor %}
            ]
        },
        options: {
            title: {
                display:true,
                text:'Contributions'
            },
            responsive: true,
            maintainAspectRatio: true
        }
    };

    window.onload = function() {
        var ctx = document.getElementById("contribution-chart").getContext("2d");
        window.myPie = new Chart(ctx, config);
    };


</script>
{% endblock %}

{% block css %}
    <style>
        #contribution-chart {
           max-height: 400px;
           max-width: 400px;
            margin-left:300px;
        }

    </style>
{% endblock %}
</body>
</html>